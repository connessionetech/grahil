{
	"configuration": {
		"base_package": "redfoxagent",
		"server": {
			"http_port": 8000,
			"https_port": 8000,
			"bind_host": "127.0.0.1",
			"debug_mode": true,
			"hot_reload": false
		},
		"ssl": {
			"enabled": false,
			"cert_file": "server.crt",
			"private_key": "server.key"
		},
		"security": {
			"jwt_algorithm": "HS256",
			"jwt_secret": "gs5f4hd6dg4h",
			"token_expiry_hours": 24
		},
		"modules": {
			"pubsub": {
				"enabled": true,
				"conf" : {
					"allow_dynamic_topics": true,
					"topics": [{
							"name": "/ping",
							"type": "push_message",
							"queue_size": 1,
							"max_users": 0
						},
						{
							"name": "/stats",
							"type": "push_message",
							"queue_size": 1,
							"max_users": 0
						},
						{
							"name": "/events",
							"type": "subscription",
							"queue_size": 10,
							"max_users": 0
						}
					]
				}
			},
			"pinger": {
				"enabled": true,
				"conf" : {
					"ping_interval_seconds": 15
				}
			},
			"rpc_gateway": {
				"enabled": true,
				"conf" : {
				}
			},
			"reaction_engine": {
				"enabled": true,
				"module": "oneadmin.modules.reaction",
				"klass": "ReactionEngine",
				"conf" : {
				"topics_of_interest": ["/stats", "/log/actions"],
				"events_of_interest": ["stats_generated", "log_record_start", "log_record_stop"]
				}
			},
			"action_dispatcher": {
				"enabled": true,
				"conf" : {
				}
			},
			"sysmon": {
				"enabled": true,
				"module": "oneadmin.modules.system",
				"klass": "SystemMonitor",
				"conf" : {
					"system_user" : "rajdeeprath",
					"updater_cron_tab_args" : ">> /home/pi/updater/updater.log 2>&1",					
					"snapshot_interval_seconds": 10,
					"log_push_interval_seconds": 0.4,
					"nic_stats_per_nic": false,
					"net_connection_filter": "inet",
					"net_connection_count_only": true
				}
			},
			"log_monitor": {
				"enabled": false,
				"module": "oneadmin.modules.logmonitor",
				"klass": "LogMonitor",
				"conf" : {
					"retry_time_ge_seconds": 5,
					"max_messages_chunks": 20,
					"chunks_collector_interval": 10000,
					"static_targets": [{
						"enabled": true,
						"name": "red5.log",
						"log_file_path": "/home/rajdeeprath/red5pro-servers/red5pro-server-us-7.2-recording/log/red5.log",
						"topic_path": "/logging/red5pro-server-us-7-2-recording/log/red5.log"
					}]
				}
			},
			"script_runner": {
				"enabled": true,
				"module": "oneadmin.modules.shell",
				"klass": "ScriptRunner",
				"conf" : {
					"max_messages_chunks": 20,
					"script_folder": "scripts",
					"file_types": [".sh"],
					"max_execution_time_seconds": 60
					}
			},
			"file_manager": {
				"enabled": true,
				"conf" : {
					"auto_clean_tmp_directories": false,
					"tmp_download_dir_prefix": "oneadmin_",
					"report_name_prefix": "report_",
					"accessible_paths": [
						"/home/rajdeeprath/red5pro-servers/red5pro-server-us-7.2-recording/log/",
						"/home/rajdeeprath/",
						"/home/rajdeeprath/github/grahil-py"
					],
					"allowed_read_extensions": [
						".properties",
						".xml",
						".txt",
						".ini",
						".log",
						".sh",
						".bat"
					],
					"allowed_write_extensions": [
						".properties",
						".xml",
						".txt",
						".ini",
						".log"
					],
					"upload_dir": "/home/rajdeeprath/uploads/",
					"upload_dir_perm": "0o755",
					"max_streamed_size": 52428800,
					"max_upload_size": 52428800,
					"permits_cleanup_interval_seconds": 30,
					"permit_expire_time_milliseconds": 60000,
					"max_parallel_uploads": 10,
					"updater_dir": "/home/pi/updater"  
				}
			},
			"target_delegate": {
				"enabled": true,
				"module": "oneadmin.modules.RPISmartDeviceDelegate",
				"klass": "TargetDelegate",
				"conf": {
					"max_stream_time_seconds": 300, 
					"ffmpeg_path" : "/usr/bin/ffmpeg",
					"youtube_endpoint" : "",
					"youtube_streamkey" : ""
				}
			},

			"mqtt_gateway": {
				"enabled": false,
				"module": "oneadmin.modules.mqtt",
				"klass": "MQTTGateway",
				"conf" : {
					"host": "127.0.0.1",
					"reconnect_wait_time_seconds": 5,
					"topic_filters":[
						"floors/rooftop/",
						"floors/+/humidity"
					],
					"subscriptions":[
						{"topic": "floors/#", "qos": 0}
					]
				}
			},
			"smtp_mailer": {
				"module": "oneadmin.modules.mailer",
				"klass": "SMTPMailer",
				"enabled": false,
				"conf" : {
					"hostname": "smtp.gmail.com",
					"port": 465,
					"tls": true,
					"default_from": "from@gmail.com",
					"default_to": "to@gmail.com",
					"default_username": "username",
					"default_password": "password"
				}
			},
			"service_bot": {
				"enabled": true,
				"module": "oneadmin.modules.bots",
				"klass": "TelegramBot",
				"conf": {
					"token": "",
					"master_user_id": 494506384
				},
				"nlp": {
					"module": "oneadmin.modules.interpreters",
					"klass": "DefaultInterpreter",
					"conf": {
						"knowledge": "",
						"vocabulary": [
						{
							"intent": "greet",
							"seed": "hello",
							"keywords": [],
							"responses": ["nice to meet you"],
							"action": {
							}
						},
						{
							"intent": "get_system_stats",
							"seed": "statistics",
							"keywords": ["give me some system info", "show system stats", "get system statistics", "share system stats", "show system status"],
							"responses": ["the stats are looking like this", "here are the stats"],
							"action": {
								"pre_response": "fetching system stats",
								"method" : "get_system_stats",
								"parameters" : {}
							}
						},
						{
							"intent": "bye",
							"seed": "goodbye",
							"keywords": [],
							"responses": ["nice talking to you", "hope to see you again", "bye bye and take care"],
							"action": {
							}
						},
						{
							"intent": "get_cpu_stats",
							"seed": "processor",
							"keywords": ["show cpu info", "show cpu usage", "show cpu data", "what is the cpu load", "show cpu stats"],
							"responses": ["here are the cpu stats", "this is what the cpu stats look like"],
							"action": {
								"pre_response": "fetching cpu stats",
								"method" : "get_cpu_stats",
								"parameters" : {}
							}
						},
						{
							"intent": "get_memory_stats",
							"seed": "memory",
							"keywords": ["show memory info", "show memory stats", "what is the memory load", "how much memory is free", "how much memory is in use"],
							"responses": ["here are the memory stats", "this is what the memory info looks like"],
							"action": {
								"pre_response": "fetching memory stats",
								"method" : "get_memory_stats",
								"parameters" : {}
							}
						},
						{
							"intent": "get_system_time",
							"seed": "now",
							"keywords": ["show time", "tell me the time", "whats the time", "what is the time", "what time is it now", "show current time", "whats the time", "current time"],
							"responses": ["here you are..", "today's date and time...", "it is.."],
							"action": {
								"pre_response": "let me check...",
								"method" : "get_system_time",
								"parameters" : {}
							}
						},
						{
							"intent": "reboot_system",
							"seed": "reboot",
							"keywords": ["restart", "reset"],
							"responses": ["Restarted"],
							"action": {
								"pre_response": "Restarting..",
								"parameters" : {}
							}
						},
						{
							"intent": "force_garbage_collection",
							"seed": "recycle",
							"keywords": ["garbage collect", "reclaim"],
							"responses": ["gc done!"],
							"action": {
								"pre_response": "Reclaiming memory..",
								"parameters" : {}
							}
						},
						{
							"intent": "update_software",
							"seed": "update",
							"keywords": ["schedule update", "update", "update now"],
							"responses": ["Update scheduled"],
							"action": {
								"pre_response": "Scheduling update",
								"parameters" : {}
							}
						},
						{
							"intent": "delegate_capture_photo",
							"seed": "photograph",
							"keywords": ["show me a photo", "click a photo", "take a pic", "show me what you see", "what do you see", "share a photo", "snap a pic"],
							"responses": ["here is a photo", "let me get you a snap", "this is what i have"],
							"action": {
								"pre_response": "Preparing photo",
								"method" : "fulfillRequest",
								"parameters" : {}
							}
						},
						{
							"intent": "delegate_capture_video",
							"seed": "video",
							"keywords": ["shoot a video", "record a video", "capture video", "take a video"],
							"responses": ["here is a video", "here is a recording", "this is what i have"],
							"action": {
								"pre_response": "Preparing video",
								"parameters" : {}
							}
						},
						{
							"intent": "delegate_move_left",
							"seed": "left",
							"keywords": ["turn left", "look left"],
							"responses": ["turned left", "moved"],
							"action": {
								"pre_response": "turning left",
								"parameters" : {}
							}
						},
						{
							"intent": "delegate_move_right",
							"seed": "right",
							"keywords": ["turn right", "look right"],
							"responses": ["turned right", "moved"],
							"action": {
								"pre_response": "turning right",
								"parameters" : {}
							}
						},
						{
							"intent": "delegate_move_up",
							"seed": "up",
							"keywords": ["look up", "move up"],
							"responses": ["done"],
							"action": {
								"pre_response": "looking up",
								"parameters" : {}
							}
						},
						{
							"intent": "delegate_move_down",
							"seed": "down",
							"keywords": ["look down", "move down"],
							"responses": ["done"],
							"action": {
								"pre_response": "looking down",
								"parameters" : {}
							}
						},
						{
							"intent": "delegate_get_weather",
							"seed": "weather",
							"keywords": ["what is the humidity level", "what is the temperature", "get weather info", "show temperature", "show humidity"],
							"responses": ["here is what it feels like"],
							"action": {
								"pre_response": "fetching weather report",
								"parameters" : {}
							}
						},
						{
							"intent": "delegate_publish_stream",
							"seed": "publish",
							"keywords": ["start streaming", "start publishing", "publish camera"],
							"responses": ["initialized"],
							"action": {
								"pre_response": "starting stream",
								"parameters" : {}
							}
						},
						{
							"intent": "delegate_unpublish_stream",
							"seed": "unpublish",
							"keywords": ["stop streaming", "stop publishing", "publish camera"],
							"responses": ["deinitialized stream"],
							"action": {
								"pre_response": "stopping",
								"parameters" : {}
							}
						},
						{
							"intent": "send_mail",
							"seed": "email",
							"keywords": ["send mail", "email", "mail to", "notify by mail"],
							"responses": ["mail sent"],
							"action": {
								"pre_response": "sending email",
								"parameters" : {"subject": "this is a test", "content": "hello this is a test"}
							}
						},
						{
							"intent": "test",
							"seed": "test",
							"keywords": ["test"],
							"responses": ["test complete"],
							"action": {
								"pre_response": "running test",
								"parameters" : {}
							}
						}
						]
					}
				}
			}
		}
	}
}